{% extends 'base.html.twig' %}

{% block title %}Toutes les sorties{% endblock %}

{% block body %}
    <main class="flex-1 container mx-auto px-4 py-8">
        <div class="flex flex-col gap-8">
            <!-- HEADER -->
            <div class="flex flex-wrap items-center justify-between gap-4">
                <div class="flex items-center gap-3">
                    <img src="{{ asset('images/logo.png') }}" alt="Sorties" class="rounded-full w-14 h-14 object-cover">
                    <div>
                        <h1 class="text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em] text-text-light dark:text-text-dark">
                            Toutes les sorties
                        </h1>
                        <p class="text-subtle-light dark:text-subtle-dark text-sm">Découvrez toutes les sorties disponibles</p>
                    </div>
                </div>
            </div>

            <!-- FORMULAIRE DE RECHERCHE -->
            <div class="p-6 rounded-xl bg-secondary-light dark:bg-secondary-dark flex flex-col gap-4 shadow-md">
                <h2 class="text-lg font-semibold text-text-light dark:text-text-dark">Filtrer les sorties</h2>

                {{ form_start(searchForm, {attr: {class: 'grid grid-cols-1 md:grid-cols-4 gap-4'}}) }}
                <div>{{ form_row(searchForm.q) }}</div>
                <div>{{ form_row(searchForm.site) }}</div>
                <div>{{ form_row(searchForm.dateMin) }}</div>
                <div>{{ form_row(searchForm.dateMax) }}</div>

                <div class="md:col-span-4 flex flex-wrap items-center gap-3 pt-2 border-t border-subtle-light/30 dark:border-subtle-dark/30 mt-2">
                    {{ form_row(searchForm.organisateur) }}
                    {{ form_row(searchForm.inscrit) }}
                    {{ form_row(searchForm.nonInscrit) }}
                    {{ form_row(searchForm.passees) }}

                    <div class="ms-auto flex gap-2 mt-2 md:mt-0">
                        {{ form_row(searchForm.search, {'attr': {'class': 'bg-primary text-text-light rounded-lg px-4 py-2 text-sm font-bold hover:opacity-90 transition'}}) }}
                        <a href="{{ path('app_sortie_index') }}"
                           class="flex items-center justify-center h-10 px-4 text-sm rounded-lg bg-background-light dark:bg-background-dark border border-subtle-light/40 dark:border-subtle-dark/40 hover:bg-secondary-light/70 dark:hover:bg-secondary-dark/60 transition">
                            Réinitialiser
                        </a>
                    </div>
                </div>
                {{ form_end(searchForm) }}
            </div>

            <!-- LISTE DES SORTIES -->
            {% include 'sortie/table.html.twig' with { 'sorties': sorties } %}
        </div>
    </main>
{% endblock %}
