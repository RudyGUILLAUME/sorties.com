{% extends 'base.html.twig' %}

{% block title %}Modifier la sortie{% endblock %}

{% block body %}
    <main class="flex-1 p-4 sm:p-6 md:p-8 max-w-6xl mx-auto">
        <!-- HEADER -->
        <div class="flex flex-wrap justify-between gap-4 mb-8">
            <div class="flex min-w-72 flex-col gap-2">
                <p class="text-text-light dark:text-text-dark text-4xl font-black leading-tight tracking-[-0.033em]">
                    Modifier une sortie
                </p>
                <p class="text-subtle-light dark:text-subtle-dark text-base font-normal">
                    Remplis les informations ci-dessous pour modifier ta sortie.
                </p>
            </div>
        </div>

        <!-- ALERTES -->
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="mb-4 p-4 rounded-lg border
                            {% if label == 'success' %}border-green-400 bg-green-100 text-green-800
                            {% elseif label == 'error' %}border-red-400 bg-red-100 text-red-800
                            {% else %}border-yellow-400 bg-yellow-100 text-yellow-800{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        <div class="rounded-xl bg-secondary-light dark:bg-secondary-dark border border-subtle-light/20 dark:border-subtle-dark/20 shadow-md p-6">
                {% if sortie.imagePrincipale %}
                    <div class="text-center mb-3">
                        <img src="{{ asset('images/sorties/' ~ (sortie.imagePrincipale ?: 'default.png')) }}"
                             alt="Image de {{ sortie.nom }}"
                             class="img-fluid rounded shadow-sm"
                             style="max-height: 300px;">
                    </div>
                {% else %}
                    <p class="text-muted text-center">Aucune image disponible pour cette sortie.</p>
                {% endif %}


                {{ include('sortie/_form.html.twig') }}

        </div>
    </main>
{% endblock %}


