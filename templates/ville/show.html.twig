{% extends 'base.html.twig' %}

{% block title %}Détail de la ville{% endblock %}

{% block body %}
<main class="flex-1 p-8 overflow-y-auto">
    <div class="max-w-4xl mx-auto">

        <div class="flex flex-wrap gap-2 mb-6 text-sm">
            <a href="{{ path('app_home') }}" class="text-primary hover:underline">Accueil</a>
            <span class="text-subtext-light dark:text-subtext-dark">/</span>
            <a href="{{ path('app_ville_index') }}" class="text-primary hover:underline">Villes</a>
            <span class="text-subtext-light dark:text-subtext-dark">/</span>
            <span class="text-text-light dark:text-text-dark">{{ ville.nom }}</span>
        </div>

        <div class="flex items-center justify-between mb-6">
            <h1 class="text-3xl font-extrabold text-text-light dark:text-text-dark">{{ ville.nom }}</h1>

            <div class="flex gap-2">
                <a href="{{ path('app_ville_edit', {id: ville.id}) }}"
                   class="flex items-center gap-2 h-10 px-5 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary/90 transition">
                    <span class="material-symbols-outlined text-sm">edit</span>
                    Modifier
                </a>

                <form method="post" action="{{ path('app_ville_delete', {id: ville.id}) }}"
                      onsubmit="return confirm('Supprimer cette ville ?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ ville.id) }}">
                    <button type="submit"
                            class="flex items-center gap-2 h-10 px-5 rounded-lg border border-red-500 text-red-500 hover:bg-red-500 hover:text-white text-sm font-semibold transition">
                        <span class="material-symbols-outlined text-sm">delete</span>
                        Supprimer
                    </button>
                </form>
            </div>
        </div>

        <div class="bg-white dark:bg-[#192633] border border-border-light dark:border-border-dark rounded-xl shadow-sm p-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                <div>
                    <p class="text-sm font-medium text-subtext-light dark:text-subtext-dark uppercase">Nom</p>
                    <p class="text-lg font-semibold text-text-light dark:text-text-dark mt-1">
                        {{ ville.nom ?: '—' }}
                    </p>
                </div>

                <div>
                    <p class="text-sm font-medium text-subtext-light dark:text-subtext-dark uppercase">Code postal</p>
                    <p class="text-lg font-semibold text-text-light dark:text-text-dark mt-1">
                        {{ ville.codePostal ?: '—' }}
                    </p>
                </div>
            </div>
        </div>

        <div class="flex justify-end mt-8">
            <a href="{{ path('app_ville_index') }}"
               class="flex items-center gap-2 h-11 px-6 rounded-lg border border-border-light dark:border-border-dark text-text-light dark:text-text-dark bg-background-light dark:bg-background-dark text-sm font-semibold hover:bg-secondary-light/70 dark:hover:bg-secondary-dark/60 transition">
                <span class="material-symbols-outlined text-sm">arrow_back</span>
                Retour à la liste
            </a>
        </div>
    </div>
</main>
{% endblock %}


